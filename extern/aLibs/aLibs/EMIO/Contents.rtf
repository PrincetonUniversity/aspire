{\rtf1\ansi\ansicpg1252\cocoartf1038\cocoasubrtf250
{\fonttbl\f0\fswiss\fcharset0 Helvetica;\f1\fmodern\fcharset0 Courier-Bold;\f2\fmodern\fcharset0 Courier;
}
{\colortbl;\red255\green255\blue255;}
\margl1440\margr1440\vieww12900\viewh14440\viewkind0
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\ql\qnatural\pardirnatural

\f0\fs24 \cf0 EMIO\
This directory contains m-functions for reading and writing files used in electron microscopy and 3D reconstruction.  The file formats those used by the IMAGIC software package (Image Science GmbH; EMAN and Frealign are public-domain programs that also use this format), the MRC program library, and the Digital Micrograph (Gatan, Inc.) file format.  These functions were written on what published information we could find, and work for our limited purposes; they are not supported by the software authors at all.\
\
The functions generally assume that little-endian files are being read by a little-endian machine.  However, some functions might still work with big-endian machines such as PowerPC, as they were originally written on a Mac computer.\
\
Fred Sigworth, Liguo Wang\
Yale University\
fred.sigworth@yale.edu\
\
\pard\pardeftab720\ql\qnatural

\f1\b \cf0 ReadImagic\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\ql\qnatural\pardirnatural

\f0\b0 \cf0 Loads part or all of the data in an Imagic file pair into a matlab 3-d array.  The data are typically a stack of 2D images, but it should also work with a single 3D volume.  This function also returns a data structure with part of the information from the header.\
\
\pard\pardeftab720\ql\qnatural

\f1\b \cf0 WriteImagic\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\ql\qnatural\pardirnatural

\f0\b0 \cf0 Writes an entire matlab 3-d array as an Imagic file with float32 data type.  The Matlab array is treated as a stack of images or, if a flag is set, as a 3D volume.\
\
\pard\pardeftab720\ql\qnatural

\f1\b \cf0 ReadImagicHeader\
MakeImagicHeader\
WriteImagicHeader\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\ql\qnatural\pardirnatural

\f0\b0 \cf0 Create, read or write a data structure that contains all the information in an Imagic header.  The structure (a struct of arrays) allows manipulation of header information. For writing very large datafiles, the header file can be constructed and written out separately by these functions.\
\
\pard\pardeftab720\ql\qnatural

\f1\b \cf0 ReadDM3\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\ql\qnatural\pardirnatural

\f0\b0 \cf0 Read a file generated by Digital Micrograph, version 3.  These files have a large tree structure, and the code inside this function can be modified to return any field or fields of this structure.  At present just the pixel size and number of pixels is returned along with the raw image.\
\
\pard\pardeftab720\ql\qnatural

\f1\b \cf0 ReadMRC\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\ql\qnatural\pardirnatural

\f0\b0 \cf0 Read part or all of an MRC-format file (2d or 3d) into a Matlab array; also retrieves information about the image size.\
\
\pard\pardeftab720\ql\qnatural

\f1\b \cf0 WriteMRC
\f0 \
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\ql\qnatural\pardirnatural

\b0 \cf0 Write an entire 3D Matlab array into an MRC-format file\
\
\pard\pardeftab720\ql\qnatural

\f1\b \cf0 WriteMRCHeader\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\ql\qnatural\pardirnatural

\f0\b0 \cf0 Write the header of an MRC-format file, allowing the user to write the rest of the file directly with the 
\f2 fwrite 
\f0 function.\
}